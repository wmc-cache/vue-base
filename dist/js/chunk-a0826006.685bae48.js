(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a0826006"],{6511:function(t,e,i){"use strict";i.r(e);var n=i("7a23"),o={style:{width:"300px",height:"300px","background-color":"red"},ref:"joyRef"},s=Object(n["m"])("div",null,null,-1),r=Object(n["m"])("div",{style:{width:"300px",height:"300px"},id:"container"},null,-1),a=Object(n["m"])("div",null,null,-1);function c(t,e,i,c,p,d){var l=Object(n["L"])("tsx"),u=Object(n["L"])("w-token-img"),h=Object(n["L"])("w-input"),f=Object(n["L"])("w-form");return Object(n["D"])(),Object(n["j"])("div",null,[Object(n["m"])("div",null,[Object(n["m"])("div",o,null,512),s]),Object(n["m"])(l),Object(n["m"])("div",null,Object(n["O"])(t.position),1),r,Object(n["m"])("div",null,[Object(n["m"])(u,{ref:"img",style:{width:"100px",height:"100px"},authSrc:"https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fyouimg1.c-ctrip.com%2Ftarget%2Ftg%2F035%2F063%2F726%2F3ea4031f045945e1843ae5156749d64c.jpg&refer=http%3A%2F%2Fyouimg1.c-ctrip.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=jpeg?sec=1625122427&t=97156690f90e7a94974ccde1f9895f21"},null,512),a]),Object(n["m"])(f,null,{default:Object(n["Y"])((function(){return[Object(n["m"])(h,{errorMessageStyle:t.errorMessageStyle,rules:t.inputRules,value:t.inputValueRef,"onUpdate:value":e[1]||(e[1]=function(e){return t.inputValueRef=e})},null,8,["errorMessageStyle","rules","value"])]})),_:1})])}var p=i("862d"),d=i.n(p),l=i("5502"),u=function(){var t=Object(n["H"])({x:0,y:0}),e=function(e){t.x=e.x,t.y=e.y};return Object(n["A"])((function(){document.addEventListener("dblclick",e)})),Object(n["B"])((function(){document.removeEventListener("dblclick",e)})),t},h=u,f=i("caaf"),m=i.n(f),y=Object(n["n"])({name:"tsx",setup:function(){return function(){return Object(n["m"])("div",null,null)}}}),v=i("8aa4"),g={color:"yellow",fontSize:"12px"},b=[{text:"宋体",value:'"SimSun","STSong"'},{text:"黑体",value:'"SimHei","STHeiti"'},{text:"楷体",value:'"KaiTi","STKaiti"'},{text:"仿宋",value:'"FangSong","STFangsong"'}],w=Object(n["n"])({name:"Home",components:{tsx:y},setup:function(){var t=Object(n["I"])(),e=Object(n["I"])();Object(v["b"])({url:"https://www.baidu.com"}),Object(n["A"])((function(){var e={mode:"semi",size:150,position:{left:"150px",top:"150px"},zone:t.value};m.a.create(e)})),d.a.load({key:"2b4552a40e781712b959acbc94c917c9",version:"1.4.15",plugins:[],AMapUI:{version:"1.1",plugins:[]},Loca:{}}).then((function(t){new t.Map("container")})).catch((function(t){console.log(t)}));var i=h(),o=Object(l["b"])(),s=Object(n["h"])((function(){return o.state.editor.components})),r=function(t){console.log(t)},a=Object(n["I"])("wmc"),c=[{type:"required",message:"用户名不能为空"},{type:"range",min:{length:6,message:"用户名不能少于六位"}},{type:"email",message:"邮箱格式不正确"},{type:"custom",validator:function(){return"1006004868@qq.com"==a.value},message:"不是我的邮箱"}];return{inputValueRef:a,inputRules:c,components:s,position:i,formSubmitResult:r,errorMessageStyle:g,joyRef:t,fontFamilyArr:b,img:e}}});i("a943");w.render=c;e["default"]=w},"862d":function(t,e,i){"use strict";(function(e,i){t.exports=i()})(0,(function(){function t(t){var n=[];return t.AMapUI&&n.push(e(t.AMapUI)),t.Loca&&n.push(i(t.Loca)),Promise.all(n)}function e(t){return new Promise((function(e,i){var a=[];if(t.plugins)for(var c=0;c<t.plugins.length;c+=1)-1==o.AMapUI.plugins.indexOf(t.plugins[c])&&a.push(t.plugins[c]);if(s.AMapUI===n.failed)i("前次请求 AMapUI 失败");else if(s.AMapUI===n.notload){s.AMapUI=n.loading,o.AMapUI.version=t.version||o.AMapUI.version,c=o.AMapUI.version;var p=document.body||document.head,d=document.createElement("script");d.type="text/javascript",d.src="https://webapi.amap.com/ui/"+c+"/main.js",d.onerror=function(t){s.AMapUI=n.failed,i("请求 AMapUI 失败")},d.onload=function(){if(s.AMapUI=n.loaded,a.length)window.AMapUI.loadUI(a,(function(){for(var t=0,i=a.length;t<i;t++){var n=a[t].split("/").slice(-1)[0];window.AMapUI[n]=arguments[t]}for(e();r.AMapUI.length;)r.AMapUI.splice(0,1)[0]()}));else for(e();r.AMapUI.length;)r.AMapUI.splice(0,1)[0]()},p.appendChild(d)}else s.AMapUI===n.loaded?t.version&&t.version!==o.AMapUI.version?i("不允许多个版本 AMapUI 混用"):a.length?window.AMapUI.loadUI(a,(function(){for(var t=0,i=a.length;t<i;t++){var n=a[t].split("/").slice(-1)[0];window.AMapUI[n]=arguments[t]}e()})):e():t.version&&t.version!==o.AMapUI.version?i("不允许多个版本 AMapUI 混用"):r.AMapUI.push((function(t){t?i(t):a.length?window.AMapUI.loadUI(a,(function(){for(var t=0,i=a.length;t<i;t++){var n=a[t].split("/").slice(-1)[0];window.AMapUI[n]=arguments[t]}e()})):e()}))}))}function i(t){return new Promise((function(e,i){if(s.Loca===n.failed)i("前次请求 Loca 失败");else if(s.Loca===n.notload){s.Loca=n.loading,o.Loca.version=t.version||o.Loca.version;var a=o.Loca.version,c=o.AMap.version.startsWith("2"),p=a.startsWith("2");if(c&&!p||!c&&p)i("JSAPI 与 Loca 版本不对应！！");else{c=o.key,p=document.body||document.head;var d=document.createElement("script");d.type="text/javascript",d.src="https://webapi.amap.com/loca?v="+a+"&key="+c,d.onerror=function(t){s.Loca=n.failed,i("请求 AMapUI 失败")},d.onload=function(){for(s.Loca=n.loaded,e();r.Loca.length;)r.Loca.splice(0,1)[0]()},p.appendChild(d)}}else s.Loca===n.loaded?t.version&&t.version!==o.Loca.version?i("不允许多个版本 Loca 混用"):e():t.version&&t.version!==o.Loca.version?i("不允许多个版本 Loca 混用"):r.Loca.push((function(t){t?i(t):i()}))}))}if(!window)throw Error("AMap JSAPI can only be used in Browser.");var n;(function(t){t.notload="notload",t.loading="loading",t.loaded="loaded",t.failed="failed"})(n||(n={}));var o={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},s={AMap:n.notload,AMapUI:n.notload,Loca:n.notload},r={AMap:[],AMapUI:[],Loca:[]},a=[],c=function(t){"function"==typeof t&&(s.AMap===n.loaded?t(window.AMap):a.push(t))};return{load:function(e){return new Promise((function(i,r){if(s.AMap==n.failed)r("");else if(s.AMap==n.notload){var p=e.key,d=e.version,l=e.plugins;p?(window.AMap&&"lbs.amap.com"!==location.host&&r("禁止多种API加载方式混用"),o.key=p,o.AMap.version=d||o.AMap.version,o.AMap.plugins=l||o.AMap.plugins,s.AMap=n.loading,d=document.body||document.head,window.___onAPILoaded=function(o){if(delete window.___onAPILoaded,o)s.AMap=n.failed,r(o);else for(s.AMap=n.loaded,t(e).then((function(){i(window.AMap)}))["catch"](r);a.length;)a.splice(0,1)[0]()},l=document.createElement("script"),l.type="text/javascript",l.src="https://webapi.amap.com/maps?callback=___onAPILoaded&v="+o.AMap.version+"&key="+p+"&plugin="+o.AMap.plugins.join(","),l.onerror=function(t){s.AMap=n.failed,r(t)},d.appendChild(l)):r("请填写key")}else if(s.AMap==n.loaded)if(e.key&&e.key!==o.key)r("多个不一致的 key");else if(e.version&&e.version!==o.AMap.version)r("不允许多个版本 JSAPI 混用");else{if(p=[],e.plugins)for(d=0;d<e.plugins.length;d+=1)-1==o.AMap.plugins.indexOf(e.plugins[d])&&p.push(e.plugins[d]);p.length?window.AMap.plugin(p,(function(){t(e).then((function(){i(window.AMap)}))["catch"](r)})):t(e).then((function(){i(window.AMap)}))["catch"](r)}else if(e.key&&e.key!==o.key)r("多个不一致的 key");else if(e.version&&e.version!==o.AMap.version)r("不允许多个版本 JSAPI 混用");else{var u=[];if(e.plugins)for(d=0;d<e.plugins.length;d+=1)-1==o.AMap.plugins.indexOf(e.plugins[d])&&u.push(e.plugins[d]);c((function(){u.length?window.AMap.plugin(u,(function(){t(e).then((function(){i(window.AMap)}))["catch"](r)})):t(e).then((function(){i(window.AMap)}))["catch"](r)}))}}))},reset:function(){delete window.AMap,delete window.AMapUI,delete window.Loca,o={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},s={AMap:n.notload,AMapUI:n.notload,Loca:n.notload},r={AMap:[],AMapUI:[],Loca:[]}}}}))},a943:function(t,e,i){"use strict";i("eda3")},caaf:function(t,e,i){!function(e,i){t.exports=i()}(window,(function(){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";i.r(e);var n,o=function(t,e){var i=e.x-t.x,n=e.y-t.y;return Math.sqrt(i*i+n*n)},s=function(t){return t*(Math.PI/180)},r=function(t){return t*(180/Math.PI)},a=new Map,c=function(t){a.has(t)&&clearTimeout(a.get(t)),a.set(t,setTimeout(t,100))},p=function(t,e,i){for(var n,o=e.split(/[ ,]+/g),s=0;s<o.length;s+=1)n=o[s],t.addEventListener?t.addEventListener(n,i,!1):t.attachEvent&&t.attachEvent(n,i)},d=function(t,e,i){for(var n,o=e.split(/[ ,]+/g),s=0;s<o.length;s+=1)n=o[s],t.removeEventListener?t.removeEventListener(n,i):t.detachEvent&&t.detachEvent(n,i)},l=function(t){return t.preventDefault(),t.type.match(/^touch/)?t.changedTouches:t},u=function(){return{x:void 0!==window.pageXOffset?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,y:void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop}},h=function(t,e){e.top||e.right||e.bottom||e.left?(t.style.top=e.top,t.style.right=e.right,t.style.bottom=e.bottom,t.style.left=e.left):(t.style.left=e.x+"px",t.style.top=e.y+"px")},f=function(t,e,i){var n=m(t);for(var o in n)if(n.hasOwnProperty(o))if("string"==typeof e)n[o]=e+" "+i;else{for(var s="",r=0,a=e.length;r<a;r+=1)s+=e[r]+" "+i+", ";n[o]=s.slice(0,-2)}return n},m=function(t){var e={};return e[t]="",["webkit","Moz","o"].forEach((function(i){e[i+t.charAt(0).toUpperCase()+t.slice(1)]=""})),e},y=function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t},v=function(t,e){if(t.length)for(var i=0,n=t.length;i<n;i+=1)e(t[i]);else e(t)},g=!!("ontouchstart"in window),b=!!window.PointerEvent,w=!!window.MSPointerEvent,x={start:"mousedown",move:"mousemove",end:"mouseup"},O={};function M(){}b?n={start:"pointerdown",move:"pointermove",end:"pointerup, pointercancel"}:w?n={start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:g?(n={start:"touchstart",move:"touchmove",end:"touchend, touchcancel"},O=x):n=x,M.prototype.on=function(t,e){var i,n=t.split(/[ ,]+/g);this._handlers_=this._handlers_||{};for(var o=0;o<n.length;o+=1)i=n[o],this._handlers_[i]=this._handlers_[i]||[],this._handlers_[i].push(e);return this},M.prototype.off=function(t,e){return this._handlers_=this._handlers_||{},void 0===t?this._handlers_={}:void 0===e?this._handlers_[t]=null:this._handlers_[t]&&this._handlers_[t].indexOf(e)>=0&&this._handlers_[t].splice(this._handlers_[t].indexOf(e),1),this},M.prototype.trigger=function(t,e){var i,n=this,o=t.split(/[ ,]+/g);n._handlers_=n._handlers_||{};for(var s=0;s<o.length;s+=1)i=o[s],n._handlers_[i]&&n._handlers_[i].length&&n._handlers_[i].forEach((function(t){t.call(n,{type:i,target:n},e)}))},M.prototype.config=function(t){this.options=this.defaults||{},t&&(this.options=function(t,e){var i={};for(var n in t)t.hasOwnProperty(n)&&e.hasOwnProperty(n)?i[n]=e[n]:t.hasOwnProperty(n)&&(i[n]=t[n]);return i}(this.options,t))},M.prototype.bindEvt=function(t,e){var i=this;return i._domHandlers_=i._domHandlers_||{},i._domHandlers_[e]=function(){"function"==typeof i["on"+e]?i["on"+e].apply(i,arguments):console.warn('[WARNING] : Missing "on'+e+'" handler.')},p(t,n[e],i._domHandlers_[e]),O[e]&&p(t,O[e],i._domHandlers_[e]),i},M.prototype.unbindEvt=function(t,e){return this._domHandlers_=this._domHandlers_||{},d(t,n[e],this._domHandlers_[e]),O[e]&&d(t,O[e],this._domHandlers_[e]),delete this._domHandlers_[e],this};var A=M;function I(t,e){return this.identifier=e.identifier,this.position=e.position,this.frontPosition=e.frontPosition,this.collection=t,this.defaults={size:100,threshold:.1,color:"white",fadeTime:250,dataOnly:!1,restJoystick:!0,restOpacity:.5,mode:"dynamic",zone:document.body,lockX:!1,lockY:!1,shape:"circle"},this.config(e),"dynamic"===this.options.mode&&(this.options.restOpacity=0),this.id=I.id,I.id+=1,this.buildEl().stylize(),this.instance={el:this.ui.el,on:this.on.bind(this),off:this.off.bind(this),show:this.show.bind(this),hide:this.hide.bind(this),add:this.addToDom.bind(this),remove:this.removeFromDom.bind(this),destroy:this.destroy.bind(this),setPosition:this.setPosition.bind(this),resetDirection:this.resetDirection.bind(this),computeDirection:this.computeDirection.bind(this),trigger:this.trigger.bind(this),position:this.position,frontPosition:this.frontPosition,ui:this.ui,identifier:this.identifier,id:this.id,options:this.options},this.instance}I.prototype=new A,I.constructor=I,I.id=0,I.prototype.buildEl=function(t){return this.ui={},this.options.dataOnly||(this.ui.el=document.createElement("div"),this.ui.back=document.createElement("div"),this.ui.front=document.createElement("div"),this.ui.el.className="nipple collection_"+this.collection.id,this.ui.back.className="back",this.ui.front.className="front",this.ui.el.setAttribute("id","nipple_"+this.collection.id+"_"+this.id),this.ui.el.appendChild(this.ui.back),this.ui.el.appendChild(this.ui.front)),this},I.prototype.stylize=function(){if(this.options.dataOnly)return this;var t=this.options.fadeTime+"ms",e=function(t,e){var i=m(t);for(var n in i)i.hasOwnProperty(n)&&(i[n]=e);return i}("borderRadius","50%"),i=f("transition","opacity",t),n={};return n.el={position:"absolute",opacity:this.options.restOpacity,display:"block",zIndex:999},n.back={position:"absolute",display:"block",width:this.options.size+"px",height:this.options.size+"px",marginLeft:-this.options.size/2+"px",marginTop:-this.options.size/2+"px",background:this.options.color,opacity:".5"},n.front={width:this.options.size/2+"px",height:this.options.size/2+"px",position:"absolute",display:"block",marginLeft:-this.options.size/4+"px",marginTop:-this.options.size/4+"px",background:this.options.color,opacity:".5"},y(n.el,i),"circle"===this.options.shape&&y(n.back,e),y(n.front,e),this.applyStyles(n),this},I.prototype.applyStyles=function(t){for(var e in this.ui)if(this.ui.hasOwnProperty(e))for(var i in t[e])this.ui[e].style[i]=t[e][i];return this},I.prototype.addToDom=function(){return this.options.dataOnly||document.body.contains(this.ui.el)||this.options.zone.appendChild(this.ui.el),this},I.prototype.removeFromDom=function(){return this.options.dataOnly||!document.body.contains(this.ui.el)||this.options.zone.removeChild(this.ui.el),this},I.prototype.destroy=function(){clearTimeout(this.removeTimeout),clearTimeout(this.showTimeout),clearTimeout(this.restTimeout),this.trigger("destroyed",this.instance),this.removeFromDom(),this.off()},I.prototype.show=function(t){var e=this;return e.options.dataOnly||(clearTimeout(e.removeTimeout),clearTimeout(e.showTimeout),clearTimeout(e.restTimeout),e.addToDom(),e.restCallback(),setTimeout((function(){e.ui.el.style.opacity=1}),0),e.showTimeout=setTimeout((function(){e.trigger("shown",e.instance),"function"==typeof t&&t.call(this)}),e.options.fadeTime)),e},I.prototype.hide=function(t){var e=this;return e.options.dataOnly||(e.ui.el.style.opacity=e.options.restOpacity,clearTimeout(e.removeTimeout),clearTimeout(e.showTimeout),clearTimeout(e.restTimeout),e.removeTimeout=setTimeout((function(){var i="dynamic"===e.options.mode?"none":"block";e.ui.el.style.display=i,"function"==typeof t&&t.call(e),e.trigger("hidden",e.instance)}),e.options.fadeTime),e.options.restJoystick&&e.setPosition(t,{x:0,y:0})),e},I.prototype.setPosition=function(t,e){var i=this;i.frontPosition={x:e.x,y:e.y};var n=i.options.fadeTime+"ms",o={};o.front=f("transition",["top","left"],n);var s={front:{}};s.front={left:i.frontPosition.x+"px",top:i.frontPosition.y+"px"},i.applyStyles(o),i.applyStyles(s),i.restTimeout=setTimeout((function(){"function"==typeof t&&t.call(i),i.restCallback()}),i.options.fadeTime)},I.prototype.restCallback=function(){var t={};t.front=f("transition","none",""),this.applyStyles(t),this.trigger("rested",this.instance)},I.prototype.resetDirection=function(){this.direction={x:!1,y:!1,angle:!1}},I.prototype.computeDirection=function(t){var e,i,n,o=t.angle.radian,s=Math.PI/4,r=Math.PI/2;if(o>s&&o<3*s&&!t.lockX?e="up":o>-s&&o<=s&&!t.lockY?e="left":o>3*-s&&o<=-s&&!t.lockX?e="down":t.lockY||(e="right"),t.lockY||(i=o>-r&&o<r?"left":"right"),t.lockX||(n=o>0?"up":"down"),t.force>this.options.threshold){var a,c={};for(a in this.direction)this.direction.hasOwnProperty(a)&&(c[a]=this.direction[a]);var p={};for(a in this.direction={x:i,y:n,angle:e},t.direction=this.direction,c)c[a]===this.direction[a]&&(p[a]=!0);if(p.x&&p.y&&p.angle)return t;p.x&&p.y||this.trigger("plain",t),p.x||this.trigger("plain:"+i,t),p.y||this.trigger("plain:"+n,t),p.angle||this.trigger("dir dir:"+e,t)}else this.resetDirection();return t};var _=I;function k(t,e){return this.nipples=[],this.idles=[],this.actives=[],this.ids=[],this.pressureIntervals={},this.manager=t,this.id=k.id,k.id+=1,this.defaults={zone:document.body,multitouch:!1,maxNumberOfNipples:10,mode:"dynamic",position:{top:0,left:0},catchDistance:200,size:100,threshold:.1,color:"white",fadeTime:250,dataOnly:!1,restJoystick:!0,restOpacity:.5,lockX:!1,lockY:!1,shape:"circle",dynamicPage:!1,follow:!1},this.config(e),"static"!==this.options.mode&&"semi"!==this.options.mode||(this.options.multitouch=!1),this.options.multitouch||(this.options.maxNumberOfNipples=1),this.updateBox(),this.prepareNipples(),this.bindings(),this.begin(),this.nipples}k.prototype=new A,k.constructor=k,k.id=0,k.prototype.prepareNipples=function(){var t=this.nipples;t.on=this.on.bind(this),t.off=this.off.bind(this),t.options=this.options,t.destroy=this.destroy.bind(this),t.ids=this.ids,t.id=this.id,t.processOnMove=this.processOnMove.bind(this),t.processOnEnd=this.processOnEnd.bind(this),t.get=function(e){if(void 0===e)return t[0];for(var i=0,n=t.length;i<n;i+=1)if(t[i].identifier===e)return t[i];return!1}},k.prototype.bindings=function(){this.bindEvt(this.options.zone,"start"),this.options.zone.style.touchAction="none",this.options.zone.style.msTouchAction="none"},k.prototype.begin=function(){var t=this.options;if("static"===t.mode){var e=this.createNipple(t.position,this.manager.getIdentifier());e.add(),this.idles.push(e)}},k.prototype.createNipple=function(t,e){var i=this.manager.scroll,n={},o=this.options;if(t.x&&t.y)n={x:t.x-(i.x+this.box.left),y:t.y-(i.y+this.box.top)};else if(t.top||t.right||t.bottom||t.left){var s=document.createElement("DIV");s.style.display="hidden",s.style.top=t.top,s.style.right=t.right,s.style.bottom=t.bottom,s.style.left=t.left,s.style.position="absolute",o.zone.appendChild(s);var r=s.getBoundingClientRect();o.zone.removeChild(s),n=t,t={x:r.left+i.x,y:r.top+i.y}}var a=new _(this,{color:o.color,size:o.size,threshold:o.threshold,fadeTime:o.fadeTime,dataOnly:o.dataOnly,restJoystick:o.restJoystick,restOpacity:o.restOpacity,mode:o.mode,identifier:e,position:t,zone:o.zone,frontPosition:{x:0,y:0},shape:o.shape});return o.dataOnly||(h(a.ui.el,n),h(a.ui.front,a.frontPosition)),this.nipples.push(a),this.trigger("added "+a.identifier+":added",a),this.manager.trigger("added "+a.identifier+":added",a),this.bindNipple(a),a},k.prototype.updateBox=function(){this.box=this.options.zone.getBoundingClientRect()},k.prototype.bindNipple=function(t){var e,i=this,n=function(t,n){e=t.type+" "+n.id+":"+t.type,i.trigger(e,n)};t.on("destroyed",i.onDestroyed.bind(i)),t.on("shown hidden rested dir plain",n),t.on("dir:up dir:right dir:down dir:left",n),t.on("plain:up plain:right plain:down plain:left",n)},k.prototype.pressureFn=function(t,e,i){var n=this,o=0;clearInterval(n.pressureIntervals[i]),n.pressureIntervals[i]=setInterval(function(){var i=t.force||t.pressure||t.webkitForce||0;i!==o&&(e.trigger("pressure",i),n.trigger("pressure "+e.identifier+":pressure",i),o=i)}.bind(n),100)},k.prototype.onstart=function(t){var e=this,i=e.options,n=t;return t=l(t),e.updateBox(),v(t,(function(o){e.actives.length<i.maxNumberOfNipples?e.processOnStart(o):n.type.match(/^touch/)&&(Object.keys(e.manager.ids).forEach((function(i){if(Object.values(n.touches).findIndex((function(t){return t.identifier===i}))<0){var o=[t[0]];o.identifier=i,e.processOnEnd(o)}})),e.actives.length<i.maxNumberOfNipples&&e.processOnStart(o))})),e.manager.bindDocument(),!1},k.prototype.processOnStart=function(t){var e,i=this,n=i.options,s=i.manager.getIdentifier(t),r=t.force||t.pressure||t.webkitForce||0,a={x:t.pageX,y:t.pageY},c=i.getOrCreate(s,a);c.identifier!==s&&i.manager.removeIdentifier(c.identifier),c.identifier=s;var p=function(e){e.trigger("start",e),i.trigger("start "+e.id+":start",e),e.show(),r>0&&i.pressureFn(t,e,e.identifier),i.processOnMove(t)};if((e=i.idles.indexOf(c))>=0&&i.idles.splice(e,1),i.actives.push(c),i.ids.push(c.identifier),"semi"!==n.mode)p(c);else{if(!(o(a,c.position)<=n.catchDistance))return c.destroy(),void i.processOnStart(t);p(c)}return c},k.prototype.getOrCreate=function(t,e){var i,n=this.options;return/(semi|static)/.test(n.mode)?(i=this.idles[0])?(this.idles.splice(0,1),i):"semi"===n.mode?this.createNipple(e,t):(console.warn("Coudln't find the needed nipple."),!1):i=this.createNipple(e,t)},k.prototype.processOnMove=function(t){var e=this.options,i=this.manager.getIdentifier(t),n=this.nipples.get(i),a=this.manager.scroll;if(function(t){return isNaN(t.buttons)?0!==t.pressure:0!==t.buttons}(t)){if(!n)return console.error("Found zombie joystick with ID "+i),void this.manager.removeIdentifier(i);if(e.dynamicPage){var c=n.el.getBoundingClientRect();n.position={x:a.x+c.left,y:a.y+c.top}}n.identifier=i;var p=n.options.size/2,d={x:t.pageX,y:t.pageY};e.lockX&&(d.y=n.position.y),e.lockY&&(d.x=n.position.x);var l,u,f,m,y,v,g,b,w,x,O=o(d,n.position),M=(l=d,u=n.position,f=u.x-l.x,m=u.y-l.y,r(Math.atan2(m,f))),A=s(M),I=O/p,_={distance:O,position:d};if("circle"===n.options.shape?(y=Math.min(O,p),g=n.position,b=y,x={x:0,y:0},w=s(w=M),x.x=g.x-b*Math.cos(w),x.y=g.y-b*Math.sin(w),v=x):(v=function(t,e,i){return{x:Math.min(Math.max(t.x,e.x-i),e.x+i),y:Math.min(Math.max(t.y,e.y-i),e.y+i)}}(d,n.position,p),y=o(v,n.position)),e.follow){if(O>p){var k=d.x-v.x,j=d.y-v.y;n.position.x+=k,n.position.y+=j,n.el.style.top=n.position.y-(this.box.top+a.y)+"px",n.el.style.left=n.position.x-(this.box.left+a.x)+"px",O=o(d,n.position)}}else d=v,O=y;var P=d.x-n.position.x,T=d.y-n.position.y;n.frontPosition={x:P,y:T},e.dataOnly||h(n.ui.front,n.frontPosition);var U={identifier:n.identifier,position:d,force:I,pressure:t.force||t.pressure||t.webkitForce||0,distance:O,angle:{radian:A,degree:M},vector:{x:P/p,y:-T/p},raw:_,instance:n,lockX:e.lockX,lockY:e.lockY};(U=n.computeDirection(U)).angle={radian:s(180-M),degree:180-M},n.trigger("move",U),this.trigger("move "+n.id+":move",U)}else this.processOnEnd(t)},k.prototype.processOnEnd=function(t){var e=this,i=e.options,n=e.manager.getIdentifier(t),o=e.nipples.get(n),s=e.manager.removeIdentifier(o.identifier);o&&(i.dataOnly||o.hide((function(){"dynamic"===i.mode&&(o.trigger("removed",o),e.trigger("removed "+o.id+":removed",o),e.manager.trigger("removed "+o.id+":removed",o),o.destroy())})),clearInterval(e.pressureIntervals[o.identifier]),o.resetDirection(),o.trigger("end",o),e.trigger("end "+o.id+":end",o),e.ids.indexOf(o.identifier)>=0&&e.ids.splice(e.ids.indexOf(o.identifier),1),e.actives.indexOf(o)>=0&&e.actives.splice(e.actives.indexOf(o),1),/(semi|static)/.test(i.mode)?e.idles.push(o):e.nipples.indexOf(o)>=0&&e.nipples.splice(e.nipples.indexOf(o),1),e.manager.unbindDocument(),/(semi|static)/.test(i.mode)&&(e.manager.ids[s.id]=s.identifier))},k.prototype.onDestroyed=function(t,e){this.nipples.indexOf(e)>=0&&this.nipples.splice(this.nipples.indexOf(e),1),this.actives.indexOf(e)>=0&&this.actives.splice(this.actives.indexOf(e),1),this.idles.indexOf(e)>=0&&this.idles.splice(this.idles.indexOf(e),1),this.ids.indexOf(e.identifier)>=0&&this.ids.splice(this.ids.indexOf(e.identifier),1),this.manager.removeIdentifier(e.identifier),this.manager.unbindDocument()},k.prototype.destroy=function(){for(var t in this.unbindEvt(this.options.zone,"start"),this.nipples.forEach((function(t){t.destroy()})),this.pressureIntervals)this.pressureIntervals.hasOwnProperty(t)&&clearInterval(this.pressureIntervals[t]);this.trigger("destroyed",this.nipples),this.manager.unbindDocument(),this.off()};var j=k;function P(t){var e=this;e.ids={},e.index=0,e.collections=[],e.scroll=u(),e.config(t),e.prepareCollections();var i=function(){var t;e.collections.forEach((function(i){i.forEach((function(i){t=i.el.getBoundingClientRect(),i.position={x:e.scroll.x+t.left,y:e.scroll.y+t.top}}))}))};p(window,"resize",(function(){c(i)}));var n=function(){e.scroll=u()};return p(window,"scroll",(function(){c(n)})),e.collections}P.prototype=new A,P.constructor=P,P.prototype.prepareCollections=function(){var t=this;t.collections.create=t.create.bind(t),t.collections.on=t.on.bind(t),t.collections.off=t.off.bind(t),t.collections.destroy=t.destroy.bind(t),t.collections.get=function(e){var i;return t.collections.every((function(t){return!(i=t.get(e))})),i}},P.prototype.create=function(t){return this.createCollection(t)},P.prototype.createCollection=function(t){var e=new j(this,t);return this.bindCollection(e),this.collections.push(e),e},P.prototype.bindCollection=function(t){var e,i=this,n=function(t,n){e=t.type+" "+n.id+":"+t.type,i.trigger(e,n)};t.on("destroyed",i.onDestroyed.bind(i)),t.on("shown hidden rested dir plain",n),t.on("dir:up dir:right dir:down dir:left",n),t.on("plain:up plain:right plain:down plain:left",n)},P.prototype.bindDocument=function(){this.binded||(this.bindEvt(document,"move").bindEvt(document,"end"),this.binded=!0)},P.prototype.unbindDocument=function(t){Object.keys(this.ids).length&&!0!==t||(this.unbindEvt(document,"move").unbindEvt(document,"end"),this.binded=!1)},P.prototype.getIdentifier=function(t){var e;return t?void 0===(e=void 0===t.identifier?t.pointerId:t.identifier)&&(e=this.latest||0):e=this.index,void 0===this.ids[e]&&(this.ids[e]=this.index,this.index+=1),this.latest=e,this.ids[e]},P.prototype.removeIdentifier=function(t){var e={};for(var i in this.ids)if(this.ids[i]===t){e.id=i,e.identifier=this.ids[i],delete this.ids[i];break}return e},P.prototype.onmove=function(t){return this.onAny("move",t),!1},P.prototype.onend=function(t){return this.onAny("end",t),!1},P.prototype.oncancel=function(t){return this.onAny("end",t),!1},P.prototype.onAny=function(t,e){var i,n=this,o="processOn"+t.charAt(0).toUpperCase()+t.slice(1);return e=l(e),v(e,(function(t){i=n.getIdentifier(t),v(n.collections,function(t,e,i){i.ids.indexOf(e)>=0&&(i[o](t),t._found_=!0)}.bind(null,t,i)),t._found_||n.removeIdentifier(i)})),!1},P.prototype.destroy=function(){this.unbindDocument(!0),this.ids={},this.index=0,this.collections.forEach((function(t){t.destroy()})),this.off()},P.prototype.onDestroyed=function(t,e){if(this.collections.indexOf(e)<0)return!1;this.collections.splice(this.collections.indexOf(e),1)};var T=new P;e.default={create:function(t){return T.create(t)},factory:T}}]).default}))},eda3:function(t,e,i){}}]);
//# sourceMappingURL=chunk-a0826006.685bae48.js.map